# Инструкция по решению CTF-задачи "Секретная Лаборатория"

## Обзор задачи

Задача представляет собой веб-приложение с тремя основными уязвимостями:
1. **SQL Injection** в форме аутентификации
2. **Crypto** больше мини игра чем уязвимость
3. **JWT manipulation** для повышения привилегий

## Задача 1: SQL Injection (Easy)

### Цель
Обойти аутентификацию и получить доступ к системе.

### Флаг
`HITS{web_1nj3ct10n_m4st3r}`

### Решение

1. **Анализ формы входа**
   - Перейдите на `/login`
   - Изучите форму аутентификации

2. **Эксплуатация SQL Injection**
   
   **Классический bypass**
   ```
   Username: admin' OR '1'='1' --
   Password: anything
   ```

3. **Получение флага**
   - При успешной SQL инъекции флаг отобразится в уведомлении
   - Вы получите доступ к панели управления

## Задача 2: Криптографический анализ (Easy - если брутфорс, Medium - если анализ частот)

### Цель
Проанализировать шифр Цезаря и найти правильный ключ для расшифровки секретных данных.

### Флаг
`HITS{cr7pt0_k3y_r3v3rs3d}`

### Решение

1. **Доступ к исследованиям**
   - После входа в систему перейдите в раздел "Исследования"
   - Выберите исследование и нажмите "Расшифровать"

2. **Анализ криптографической задачи**
   - Попадаете на страницу криптографического анализа
   - Видите зашифрованный текст и подсказку о типе шифра
   - Доступен анализ частот букв

3. **Методы решения**
   
   **Метод 1: Анализ частот**
   - Изучите частоты букв в зашифрованном тексте
   - Найдите самую частую букву в шифре и вычислите сдвиг
   
   **Метод 2: Brute Force**
   - Попробуйте все сдвиги от 0 до 25

4. **Правильные ключи**
   - **Проект Альфа**: сдвиг 7

6. **Получение флага**
   - При правильном сдвиге система проверит наличие ключевых слов
   - Флаг появится при успешной расшифровке


## Задача 3: Privilege Escalation (Medium)

### Цель
Получить права администратора системы.

### Флаг
`HITS{pr1v1l3g3_3sc4l4t10n}`

### Решение

1. **Получение JWT токена**
   - В DevTools посмотреть Cookie. Или посмотреть исходный код страницы, где можно найти ендпоинт получения данных о user /api/user_info

2. **Анализ JWT**
   ```json
   {
     "user_id": 1,
     "username": "guest",
     "role": "guest",
     "exp": 1234567890
   }
   ```
   - Секретный ключ: `weak_jwt_secret_1234567891234567` - нужно найти посмотрев данные с /api/user_info

3. **Создание поддельного токена**
   
   **jwt.io**
   - Перейдите на https://jwt.io
   - Вставьте ваш токен
   - Измените `"role": "guest"` на `"role": "admin"`
   - Введите секрет: `weak_jwt_secret_1234567891234567`
   - Скопируйте новый токен
   

4. **Использование поддельного токена**
   - Замените токен в куках браузера
   - Перейдите на `/admin`

5. **Получение флага**
   - При успешном доступе к админ-панели флаг отобразится автоматически
   - Также доступен в таблице секретных данных

